{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "# Detailed Report: EMIS Process Automation with Python, JSON, and GitHub Copilot\n",
    "\n",
    "**Prepared by:** Francisco Jos√© Nardi Filho"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "## Introduction\n",
    "\n",
    "- **Objective:** Optimize EMIS processes with automation and onboarding support.\n",
    "- **Focus Areas:**\n",
    "  - Automating repetitive JSON file creation.\n",
    "  - Enhancing new developer onboarding.\n",
    "  - Leveraging GitHub Copilot.\n",
    "- **Structure:** Analysis of problems and a detailed practical solution."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Part 1: Problem Identification, Research, and Onboarding Strategy\n",
    "\n",
    "### 1.1 Problem Context\n",
    "\n",
    "- **What is EMIS?** A configurable banking integration system using JSON-based low-code processes (MOVE, SEND).\n",
    "- **Key Challenges:**\n",
    "  - Manual JSON creation is repetitive and error-prone.\n",
    "  - Onboarding is slow due to limited documentation.\n",
    "- **Impact:** Delays and team overload at Bank of America."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "### 1.2 Research: Key Questions and Insights\n",
    "\n",
    "- **Q1: Challenges & Adaptation**\n",
    "  - *Prompt:* \"What challenges do new developers face in EMIS?\"\n",
    "  - *Insight:* Steep learning curve; suggests training and mentorship.\n",
    "\n",
    "- **Q2: Support Materials**\n",
    "  - *Prompt:* \"How can we improve learning resources?\"\n",
    "  - *Insight:* Use visual playbooks and Copilot integration."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "- **Q3: Onboarding Efficiency**\n",
    "  - *Prompt:* \"How to streamline onboarding?\"\n",
    "  - *Insight:* Shadowing, pair programming, and updated docs.\n",
    "\n",
    "- **Q4: Automation Tools**\n",
    "  - *Prompt:* \"What tools can automate tasks?\"\n",
    "  - *Insight:* Python, Copilot, and Git for efficiency."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "### 1.3 Resolution Strategy\n",
    "\n",
    "- **Decision:** Hire a new developer with Copilot support.\n",
    "- **Goals:**\n",
    "  - Reduce learning time from months to weeks.\n",
    "  - Minimize manual errors.\n",
    "  - Boost productivity with JSON automation.\n",
    "- **Justification:** Addresses documentation and task repetition issues."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Part 2: Practical Solution - JSON File Automation\n",
    "\n",
    "### 2.1 Case Description\n",
    "\n",
    "- **Problem:** Manual creation of JSONs for MOVE/SEND (currencies: DKK, NOK, etc.; types: MT300, MT202, BMC) is inefficient.\n",
    "- **Objective:** Automate with Python, supported by Copilot."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "### 2.2 Step-by-Step Resolution\n",
    "\n",
    "#### Step 1: Data Collection\n",
    "- **Action:** Gather currencies, operation types, and ID ranges.\n",
    "- **Details:**\n",
    "  - Currencies: DKK, NOK, SEK, etc. (12 total).\n",
    "  - Types: MT300, MT202, BMC (3 total).\n",
    "  - IDs: MT300 (MOVE 15302-15313, SEND 15314-15325), etc.\n",
    "- **Copilot:** \"List currencies and types with ID ranges.\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "#### Step 2: Logic Planning\n",
    "- **Action:** Design the Python script structure.\n",
    "- **Details:**\n",
    "  - Use lists for currencies and dictionaries for types.\n",
    "  - Implement loops for dynamic ID generation.\n",
    "  - Add `date_now` for timestamps.\n",
    "- **Copilot:** \"Generate a script for currency/type-based JSONs.\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "#### Step 3: Script Development"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "slideshow": {
     "slide_type": "fragment"
    }
   },
   "outputs": [],
   "source": [
    "# Initialize data structures\n",
    "import json\n",
    "from datetime import datetime, timedelta\n",
    "\n",
    "currencys = [\"DKK\", \"NOK\", \"SEK\", \"AUD\", \"CAD\", \"SGD\", \"NZD\", \"CHF\", \"JPY\", \"MXN\", \"ZAR\", \"CNY\"]\n",
    "tipos = [\n",
    "    {\"name\": \"MT300\", \"move_start\": 15302, \"send_start\": 15314},\n",
    "    {\"name\": \"MT202\", \"move_start\": 15326, \"send_start\": 15338},\n",
    "    {\"name\": \"BMC\", \"move_start\": 15350, \"send_start\": 15362}\n",
    "]\n",
    "parent_id = 5199\n",
    "system_resource_id = 5719"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "slideshow": {
     "slide_type": "fragment"
    }
   },
   "outputs": [],
   "source": [
    "# Define timestamp function\n",
    "def date_now(offset=0):\n",
    "    dt = datetime.now() + timedelta(minutes=offset)\n",
    "    return f\"{(int(dt.timestamp()) * 1000) - 3900}\"\n",
    "\n",
    "# Loop through types and currencies\n",
    "for tipo in tipos:\n",
    "    for idx, currency in enumerate(currencys):\n",
    "        move_id = tipo[\"move_start\"] + idx\n",
    "        send_id = tipo[\"send_start\"] + idx"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "slideshow": {
     "slide_type": "fragment"
    }
   },
   "outputs": [],
   "source": [
    "# Generate and save JSON files\n",
    "file_pattern = f\"bmlnyc07{currency}{tipo['name'].lower()}*.txt\"\n",
    "move_json = {\n",
    "    \"ProcessId\": move_id,\n",
    "    \"Description\": f\"Feed to ESI - CashPro - {currency} - {tipo['name']} Move\",\n",
    "    \"DateLastUpdate\": date_now(move_id)\n",
    "}\n",
    "with open(f\"Process_{move_id}.json\", \"w\", encoding=\"utf-8\") as f:\n",
    "    json.dump(move_json, f, indent=2)\n",
    "\n",
    "send_json = {\n",
    "    \"ProcessId\": send_id,\n",
    "    \"Description\": f\"Feed to ESI - CashPro - {currency} - {tipo['name']} Send\",\n",
    "    \"DateLastUpdate\": date_now(send_id)\n",
    "}\n",
    "with open(f\"Process_{send_id}.json\", \"w\", encoding=\"utf-8\") as f:\n",
    "    json.dump(send_json, f, indent=2)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "- **Copilot Use:** Suggested loops and `%CURRENCY%` replacement; optimized JSON formatting.\n",
    "\n",
    "#### Step 4: Validation & Testing\n",
    "- **Action:** Test and validate generated files.\n",
    "- **Details:**\n",
    "  - Run in a controlled environment.\n",
    "  - Verify 72 files (12 currencies x 3 types x 2 processes).\n",
    "  - Check ID consistency and currency substitution.\n",
    "- **Copilot:** \"Validate JSON generation for each currency/type.\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "subslide"
    }
   },
   "source": [
    "#### Step 5: Integration & Scalability\n",
    "- **Action:** Integrate into workflow and plan expansions.\n",
    "- **Details:**\n",
    "  - Save in Git for version control.\n",
    "  - Add support for new currencies/types by updating lists.\n",
    "  - Document in an internal manual.\n",
    "- **Copilot:** \"Suggest scaling for new currencies/types.\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "### 2.3 Observed Benefits\n",
    "\n",
    "- **Automation:** 72 JSONs in under 1 minute, eliminating errors.\n",
    "- **Learning:** New developer gained hands-on EMIS skills with Copilot.\n",
    "- **Scalability:** Script adaptable with minimal adjustments."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {
    "slideshow": {
     "slide_type": "slide"
    }
   },
   "source": [
    "## Conclusion\n",
    "\n",
    "- **Part 1:** Research identified onboarding and task challenges, guiding Copilot use.\n",
    "- **Part 2:** Automation reduced errors and sped up processes.\n",
    "- **Impact:** Copilot enhances learning and productivity; continuous use recommended."
   ]
  }
 ],
 "metadata": {
  "celltoolbar": "Slideshow",
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
